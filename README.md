# Crypto Bank Project

Банковское приложение с поддержкой криптовалюты, построенное на микросервисной архитектуре.

## Архитектура

### Сервисы

1. **bank-service** - Основной банковский сервис
   - Управление пользователями
   - Фиатные счета
   - Криптокошельки
   - Транзакции
   - REST API (Fiber)
   - GraphQL API

2. **analytics-service** - Сервис аналитики
   - Анализ транзакций
   - Статистика по пользователям
   - Отчеты

3. **notification-service** - Сервис уведомлений
   - Email уведомления
   - Push уведомления
   - SMS уведомления

4. **exchange-service** - Сервис обмена валют (gRPC)
   - Конвертация крипты в фиат
   - Конвертация фиата в крипту
   - Получение курсов

### Технологии

- **Fiber** - веб-фреймворк
- **Squirrel** - SQL builder
- **Uber Zap** - логгер
- **Goose** - миграции базы данных
- **PostgreSQL** - основная база данных
- **RabbitMQ** - очередь сообщений
- **gRPC** - межсервисная коммуникация
- **Prometheus** - метрики
- **Grafana** - визуализация метрик
- **Zipkin** - распределенная трассировка

## Установка

### Требования

- Docker и Docker Compose
- Go 1.21+

### Запуск

```bash
docker-compose up -d
```

## API

### REST API
- Swagger UI: http://localhost:8080/swagger
- GraphQL Playground: http://localhost:8080/graphql

### Мониторинг
- Prometheus: http://localhost:9091
- Grafana: http://localhost:3000 (admin/admin)
- Zipkin: http://localhost:9411
- RabbitMQ Management: http://localhost:15672 (guest/guest)

## Структура базы данных

### Основные сущности

- **users** - пользователи банка
- **accounts** - фиатные счета (USD, EUR, RUB)
- **crypto_wallets** - криптокошельки (BTC, ETH, USDT)
- **transactions** - транзакции между счетами
- **exchanges** - обмены между криптой и фиатом
- **exchange_rates** - текущие курсы валют

## Возможности

- ✅ Создание фиатных счетов в разных валютах
- ✅ Создание криптокошельков
- ✅ Переводы между фиатными счетами
- ✅ Переводы между криптокошельками
- ✅ Бесшовный обмен криптовалюты в фиат
- ✅ Бесшовный обмен фиата в криптовалюту
- ✅ История транзакций
- ✅ Аналитика и отчеты
- ✅ Уведомления о транзакциях

